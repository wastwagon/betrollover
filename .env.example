# BetRollover v2 - Environment Variables
# Copy this file to .env and fill in all values before running.
#
# Quick validation: bash scripts/check-env.sh
#
# ─── Production checklist ────────────────────────────────────────────────────
#   1. JWT_SECRET — generate with: openssl rand -base64 48
#   2. POSTGRES_PASSWORD — use a strong random password
#   3. APP_URL / NEXT_PUBLIC_APP_URL / NEXT_PUBLIC_API_URL — set your domain
#   4. PAYSTACK — use live keys (sk_live_* / pk_live_*)
#   5. SENDGRID_API_KEY — required for email OTP registration
#   6. API_SPORTS_KEY — required for football + volleyball
#   7. ODDS_API_KEY — required for basketball, rugby, MMA, hockey, american football, tennis
#   8. VAPID keys — required for push notifications
#   9. CORS_ORIGINS — add your frontend domain(s)
#   10. Run: bash scripts/pre-deploy-verify.sh before every deploy
# ─────────────────────────────────────────────────────────────────────────────

# PostgreSQL (used by docker-compose and backend)
# Optional: DB_POOL_MAX=20, DB_POOL_IDLE_TIMEOUT=30000 for connection pool tuning
# When running the API on your machine and Postgres in Docker Desktop: use POSTGRES_HOST=localhost and POSTGRES_PORT=host port (e.g. 5433 if mapped).
POSTGRES_USER=betrollover
POSTGRES_PASSWORD=betrollover_dev
POSTGRES_DB=betrollover
POSTGRES_PORT=5435
POSTGRES_HOST=localhost

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# API-Sports Football (for fixtures, leagues - tipster platform)
# Get key from https://www.api-football.com/ (e.g. 06208ae679202aa04a8478d479645756)
API_SPORTS_KEY=

# Paystack (Ghana payments - get from https://dashboard.paystack.com)
PAYSTACK_SECRET_KEY=sk_live_xxx
PAYSTACK_PUBLIC_KEY=pk_live_xxx
PAYSTACK_WEBHOOK_SECRET=your_webhook_secret

# SendGrid Web API (email verification, notifications - get from https://sendgrid.com)
# Create API key at: Settings → API Keys. From address must be a verified sender in SendGrid.
SENDGRID_API_KEY=
SMTP_FROM=noreply@betrollover.com
# Optional: SMTP fallback if SENDGRID_API_KEY not set
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=465
SMTP_USERNAME=apikey

# App
APP_NAME=BetRollover
# Canonical URL users access (Docker: http://localhost:6002, Production: https://betrollover.com)
APP_URL=http://localhost:6002
# Public site URL for SEO (Open Graph, sitemap, canonical). Production: https://betrollover.com
NEXT_PUBLIC_APP_URL=http://localhost:6002
API_PORT=6001
WEB_PORT=6002
# API URL - NEXT_PUBLIC_* is used by web app (browser); set for your deployment
# API base URL (no trailing slash). All routes are under /api/v1 (e.g. .../api/v1/auth/login).
NEXT_PUBLIC_API_URL=http://localhost:6001
API_URL=http://localhost:6001
COUNTRY=Ghana
CURRENCY=GHS
TIMEZONE=Africa/Accra

# Multi-sport — all 8 sports enabled by default
ENABLED_SPORTS=football,basketball,rugby,mma,volleyball,hockey,american_football,tennis

# Scheduling — set to 'true' to run cron jobs (fixtures, predictions, settlement)
ENABLE_SCHEDULING=true
# Football sync — set to 'false' to skip API-Sports fixture sync (e.g. when football runs on prod)
ENABLE_FOOTBALL_SYNC=true

# CORS — additional allowed origins (comma-separated, production only)
# Example: CORS_ORIGINS=https://app.betrollover.com,https://admin.betrollover.com
CORS_ORIGINS=

# Logging — set to 'info' or 'warn' in production
LOG_LEVEL=info

# Registration uses email OTP (sent via SendGrid above). No phone/SMS required.

# The Odds API — covers basketball, rugby, mma, hockey, american football, tennis (all except football)
# Sign up at https://the-odds-api.com/ → 20K plan ($30/month) recommended for production
# Copy key from https://dash.the-odds-api.com/api-subscriptions
# Run: ./scripts/sync-odds-api-sports.sh to sync all Odds API sports
ODDS_API_KEY=
# Legacy alias — same key, kept for backward compat (docker-compose.prod.yml passes both)
# TENNIS_ODDS_API_KEY=   # Set to same value as ODDS_API_KEY if needed

# Redis (optional for local dev without Docker)
REDIS_URL=redis://localhost:6379

# Web Push (VAPID keys for browser notifications)
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# IAP (optional): For production receipt verification with Apple/Google
# APPLE_SHARED_SECRET=   # App Store Connect → App → In-App Purchase → App-Specific Shared Secret
# GOOGLE_SERVICE_ACCOUNT_JSON=  # Path or JSON for Play Developer API service account

# Sentry (optional): Error monitoring. When unset, no Sentry code runs.
# NEXT_PUBLIC_SENTRY_DSN=   # Client + server (or use SENTRY_DSN for server only)
# SENTRY_ORG=   # For source map upload (CI)
# SENTRY_PROJECT=   # For source map upload (CI)

# LOG_LEVEL (optional): debug | info | warn | error. When set, backend uses structured JSON logs.
